<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸŒŸ Amy's Big City Adventure â€” è‹±èªæ•…äº‹å­¸ç¿’</title>
<link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800;900&family=Baloo+2:wght@400;600;700;800&display=swap" rel="stylesheet">
<style>
:root {
  --sky: #5BC8F5;
  --sun: #FFD93D;
  --grass: #6BCB77;
  --coral: #FF6B6B;
  --lavender: #C3A6FF;
  --peach: #FFB347;
  --white: #FFFFFF;
  --ink: #2D3047;
  --card-bg: #FFFDF5;
  --shadow: 0 4px 20px rgba(45,48,71,0.10);
  --radius: 20px;
  --hl: #FFE566;
  --hl-word: #B5F2FF;
}
* { box-sizing: border-box; margin: 0; padding: 0; }
body {
  font-family: 'Nunito', sans-serif;
  background: linear-gradient(160deg, #e0f7fa 0%, #fff9e6 50%, #fce4f0 100%);
  min-height: 100vh;
  color: var(--ink);
  padding-bottom: 60px;
}
header {
  background: linear-gradient(135deg, var(--sky), var(--lavender));
  padding: 28px 20px 22px;
  text-align: center;
  box-shadow: 0 6px 24px rgba(91,200,245,0.35);
}
header h1 {
  font-family: 'Baloo 2', cursive;
  font-size: clamp(1.5rem, 5vw, 2.6rem);
  color: #fff;
  text-shadow: 3px 3px 0 rgba(0,0,0,0.15);
  line-height: 1.25;
}
header p { color: rgba(255,255,255,0.9); font-size: 0.95rem; margin-top: 6px; font-weight: 600; }

.speed-bar {
  background: var(--white);
  border-radius: var(--radius);
  margin: 16px auto;
  max-width: 700px;
  padding: 14px 22px;
  display: flex;
  align-items: center;
  gap: 14px;
  box-shadow: var(--shadow);
  flex-wrap: wrap;
}
.speed-bar label { font-weight: 800; font-size: 0.95rem; white-space: nowrap; }
.speed-bar input[type=range] { flex: 1; min-width: 120px; accent-color: var(--sky); cursor: pointer; }
#speed-val { font-weight: 900; color: var(--coral); font-size: 1rem; min-width: 42px; text-align: center; }
.speed-info { font-size: 0.78rem; color: #888; width: 100%; }

.wordlist-banner {
  background: linear-gradient(90deg, var(--sun), var(--peach));
  border-radius: var(--radius);
  margin: 0 auto 18px;
  max-width: 700px;
  padding: 14px 20px;
  box-shadow: var(--shadow);
}
.wordlist-banner h3 { font-family: 'Baloo 2', cursive; font-size: 1rem; color: var(--ink); margin-bottom: 8px; }
.word-chips { display: flex; flex-wrap: wrap; gap: 6px; }
.chip {
  background: rgba(255,255,255,0.75);
  border-radius: 50px;
  padding: 4px 12px;
  font-size: 0.82rem;
  font-weight: 700;
  cursor: pointer;
  border: 2px solid rgba(255,255,255,0.9);
  transition: background 0.2s, transform 0.15s;
  color: var(--ink);
  user-select: none;
}
.chip:hover { background: var(--white); transform: scale(1.05); }
.chip.chip-on { background: var(--hl); }

.section-title {
  text-align: center;
  font-family: 'Baloo 2', cursive;
  font-size: clamp(1.2rem, 4vw, 1.9rem);
  margin: 24px 0 12px;
  color: var(--ink);
}
.section-title span {
  background: linear-gradient(135deg, var(--coral), var(--lavender));
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

.story-container { max-width: 700px; margin: 0 auto; padding: 0 14px; }
.para-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 18px 22px;
  margin-bottom: 16px;
  box-shadow: var(--shadow);
  border-left: 5px solid var(--sky);
}
.para-card:nth-child(4n+2) { border-left-color: var(--lavender); }
.para-card:nth-child(4n+3) { border-left-color: var(--grass); }
.para-card:nth-child(4n+4) { border-left-color: var(--coral); }
.para-num {
  display: inline-block;
  background: var(--sky);
  color: #fff;
  border-radius: 50%;
  width: 26px; height: 26px;
  text-align: center; line-height: 26px;
  font-size: 0.8rem; font-weight: 900;
  margin-bottom: 8px;
}
.para-en { font-size: 1.05rem; line-height: 1.9; color: var(--ink); }
.vocab-word {
  color: #1A6ED8;
  background: #E8F4FF;
  border-radius: 6px;
  padding: 1px 5px;
  cursor: pointer;
  font-weight: 800;
  border-bottom: 2px solid #1A6ED8;
  transition: background 0.18s, color 0.18s;
}
.vocab-word:hover { background: var(--hl-word); color: #0A3D8F; }
.vocab-word.word-on { background: var(--hl); color: #7a4000; border-bottom-color: #E8A000; }
.sent-span.sent-on { background: var(--hl); border-radius: 4px; }

.para-zh {
  display: none;
  margin-top: 12px;
  padding: 12px 14px;
  background: linear-gradient(135deg, #f0fff4, #e8f4ff);
  border-radius: 12px;
  font-size: 0.95rem;
  line-height: 1.8;
  color: #444;
  border: 1px dashed #aaa;
}
.para-controls { display: flex; gap: 8px; margin-top: 12px; flex-wrap: wrap; }
.btn {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  padding: 7px 16px;
  border-radius: 50px;
  border: none;
  cursor: pointer;
  font-family: 'Nunito', sans-serif;
  font-size: 0.85rem;
  font-weight: 700;
  box-shadow: 0 2px 8px rgba(0,0,0,0.12);
  transition: transform 0.15s, box-shadow 0.15s;
  user-select: none;
}
.btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.18); }
.btn:active { transform: scale(0.97); }
.btn-zh   { background: linear-gradient(135deg, #a8e6cf, #67d7aa); color: #1a5c3a; }
.btn-read { background: linear-gradient(135deg, var(--sky), #3AAFDF); color: #fff; }
.btn-stop { background: linear-gradient(135deg, #ffb347, #ff8000); color: #fff; }

.go-quiz-btn {
  display: block;
  margin: 14px auto 30px;
  background: linear-gradient(135deg, var(--lavender), #9B59D8);
  color: #fff;
  padding: 12px 30px;
  border-radius: 50px;
  border: none;
  cursor: pointer;
  font-family: 'Nunito', sans-serif;
  font-size: 1rem;
  font-weight: 800;
  box-shadow: 0 4px 14px rgba(195,166,255,0.5);
  transition: transform 0.15s;
}
.go-quiz-btn:hover { transform: scale(1.05); }

.quiz-section { max-width: 700px; margin: 10px auto 0; padding: 0 14px; }
.quiz-intro {
  background: linear-gradient(135deg, var(--lavender), #e8c5ff);
  border-radius: var(--radius);
  padding: 18px 22px;
  margin-bottom: 18px;
  text-align: center;
  box-shadow: var(--shadow);
}
.quiz-intro p { font-size: 0.95rem; font-weight: 700; color: var(--ink); }
.quiz-intro p+p { font-size: 0.82rem; color: #555; margin-top: 5px; }

.q-card {
  background: var(--card-bg);
  border-radius: var(--radius);
  padding: 18px 22px;
  margin-bottom: 16px;
  box-shadow: var(--shadow);
  border-top: 4px solid var(--lavender);
}
.q-card.q-correct { border-top-color: var(--grass); }
.q-card.q-wrong   { border-top-color: var(--coral); }
.q-header { display: flex; align-items: flex-start; gap: 10px; margin-bottom: 12px; }
.q-num {
  background: var(--lavender);
  color: #fff;
  border-radius: 50%;
  width: 30px; height: 30px; min-width: 30px;
  text-align: center; line-height: 30px;
  font-size: 0.85rem; font-weight: 900;
}
.q-text { font-size: 1rem; font-weight: 700; line-height: 1.6; flex: 1; }
.q-text.q-hl { background: var(--hl); border-radius: 8px; padding: 2px 6px; }
.q-speak-btn {
  background: none;
  border: none;
  cursor: pointer;
  font-size: 1.25rem;
  padding: 2px 4px;
  border-radius: 8px;
  transition: transform 0.15s, background 0.2s;
  line-height: 1;
  flex-shrink: 0;
}
.q-speak-btn:hover { background: #eee; transform: scale(1.15); }
.q-speak-btn.qsb-on { background: var(--hl); }
.options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: 4px; }
@media (max-width: 480px) { .options-grid { grid-template-columns: 1fr; } }
.opt-btn {
  background: #F4F0FF;
  border: 2px solid #D4C8FF;
  border-radius: 12px;
  padding: 10px 14px;
  text-align: left;
  cursor: pointer;
  font-family: 'Nunito', sans-serif;
  font-size: 0.92rem;
  font-weight: 600;
  color: var(--ink);
  transition: background 0.18s, border-color 0.18s, transform 0.12s;
  user-select: none;
}
.opt-btn:hover:not(:disabled) { background: #E4D8FF; border-color: #A78BE0; transform: scale(1.02); }
.opt-btn.opt-sel     { background: #D4C8FF; border-color: #7C4DFF; font-weight: 800; }
.opt-btn.opt-correct { background: #C8F5D5; border-color: var(--grass); color: #1a5c3a; font-weight: 800; }
.opt-btn.opt-wrong   { background: #FFD6D6; border-color: var(--coral); color: #8B1A1A; font-weight: 800; }
.opt-btn:disabled    { cursor: default; }
.q-feedback { display: none; margin-top: 10px; padding: 8px 14px; border-radius: 10px; font-weight: 700; font-size: 0.9rem; }
.fb-ok { background: #d4edda; color: #155724; }
.fb-no { background: #f8d7da; color: #721c24; }

.submit-row { text-align: center; margin: 10px 0 24px; }
.btn-submit {
  background: linear-gradient(135deg, var(--grass), #4CAF50);
  color: #fff;
  font-size: 1.1rem;
  padding: 14px 38px;
  border-radius: 50px;
  border: none;
  cursor: pointer;
  font-family: 'Nunito', sans-serif;
  font-weight: 800;
  box-shadow: 0 4px 18px rgba(107,203,119,0.45);
  transition: transform 0.15s, opacity 0.2s;
}
.btn-submit:hover { transform: scale(1.04); }
.btn-submit:disabled { opacity: 0.5; cursor: default; transform: none; }

.score-board {
  display: none;
  background: linear-gradient(135deg, var(--sun), var(--peach));
  border-radius: var(--radius);
  padding: 26px 22px;
  margin: 18px auto 0;
  max-width: 700px;
  text-align: center;
  box-shadow: var(--shadow);
}
.score-board.show { display: block; }
.score-board h2 { font-family: 'Baloo 2', cursive; font-size: 1.8rem; color: var(--ink); margin-bottom: 8px; }
.score-big { font-family: 'Baloo 2', cursive; font-size: 4rem; color: var(--coral); line-height: 1; text-shadow: 3px 3px 0 rgba(0,0,0,0.1); }
.score-msg { font-size: 1rem; font-weight: 700; color: #555; margin-top: 8px; }
.btn-retry {
  margin-top: 16px;
  background: linear-gradient(135deg, var(--coral), #FF3333);
  color: #fff;
  font-size: 1rem;
  padding: 12px 28px;
  border-radius: 50px;
  border: none;
  cursor: pointer;
  font-family: 'Nunito', sans-serif;
  font-weight: 800;
  box-shadow: 0 4px 14px rgba(255,107,107,0.4);
  transition: transform 0.15s;
}
.btn-retry:hover { transform: scale(1.05); }
footer { text-align: center; padding: 24px; color: #999; font-size: 0.8rem; margin-top: 10px; }
footer span { color: var(--coral); }
</style>
</head>
<body>

<header>
  <h1>ğŸŒŸ Amy's Big City Adventure ğŸŒŸ</h1>
  <p>å››å¹´ç´šè‹±èªæ•…äº‹ &amp; é–±è®€æ¸¬é©— ï½œ é»æ“Šè—è‰²å–®å­—å¯ä»¥è½ç™¼éŸ³ ğŸ”Š</p>
</header>

<div class="speed-bar">
  <label for="speed-slider">ğŸ¢ ç™¼éŸ³é€Ÿåº¦</label>
  <input type="range" id="speed-slider" min="0.5" max="1.5" step="0.1" value="0.9">
  <span id="speed-val">0.9Ã—</span>
  <span class="speed-info">å»ºè­°å°æœ‹å‹å¾ 0.7Ã— é–‹å§‹ï¼Œç·´ç†Ÿäº†å†èª¿å¿« ğŸš€</span>
</div>

<div class="wordlist-banner">
  <h3>ğŸ“š æœ¬èª²é‡é»å–®å­— â€” é»ä¸€ä¸‹å°±èƒ½è½ç™¼éŸ³ï¼</h3>
  <div class="word-chips" id="word-chips"></div>
</div>

<h2 class="section-title"><span>ğŸ“– æ•…äº‹é–‹å§‹å›‰ï¼</span></h2>
<div class="story-container" id="story-container"></div>

<button class="go-quiz-btn" id="go-quiz-btn">ğŸ§© é–‹å§‹é–±è®€æ¸¬é©—ï¼</button>

<h2 class="section-title" id="quiz-anchor"><span>ğŸ“ é–±è®€æ¸¬é©— Reading Quiz</span></h2>
<div class="quiz-section">
  <div class="quiz-intro">
    <p>ğŸ“– æ ¹æ“šæ•…äº‹å›ç­”ä»¥ä¸‹ 10 é¡Œï¼Œæ¯é¡Œé¸ä¸€å€‹æœ€æ­£ç¢ºçš„ç­”æ¡ˆã€‚</p>
    <p>Read the story carefully and choose the best answer for each question.</p>
  </div>
  <div id="quiz-container"></div>
  <div class="submit-row">
    <button class="btn-submit" id="submit-btn">ğŸ¯ æäº¤ç­”æ¡ˆ Submit</button>
  </div>
</div>

<div class="score-board" id="score-board">
  <h2>ğŸ† æ¸¬é©—çµæœ Quiz Result ğŸ†</h2>
  <div class="score-big" id="score-display">0 / 10</div>
  <div class="score-msg" id="score-msg"></div>
  <button class="btn-retry" id="retry-btn">ğŸ”„ å†è©¦ä¸€æ¬¡ Try Again</button>
</div>

<footer><p>âœ¨ è¨­è¨ˆçµ¦åŠªåŠ›å­¸ç¿’è‹±èªçš„å°æœ‹å‹ âœ¨ ï½œ <span>Amy's Big City Adventure</span> Â© 2025</p></footer>

<script>
/* ============================================================
   DATA
   ============================================================ */
var VOCAB = [
  {w:"bookstore",    zh:"æ›¸åº—"},
  {w:"restaurant",   zh:"é¤å»³"},
  {w:"hospital",     zh:"é†«é™¢"},
  {w:"bakery",       zh:"éºµåŒ…åº—"},
  {w:"bank",         zh:"éŠ€è¡Œ"},
  {w:"post office",  zh:"éƒµå±€"},
  {w:"post",         zh:"éƒµæ”¿/éƒµä»¶"},
  {w:"office",       zh:"è¾¦å…¬å®¤"},
  {w:"bike",         zh:"è…³è¸è»Š"},
  {w:"scooter",      zh:"æ©Ÿè»Š"},
  {w:"taxi",         zh:"è¨ˆç¨‹è»Š"},
  {w:"bus",          zh:"å…¬è»Š"},
  {w:"train",        zh:"ç«è»Š"},
  {w:"car",          zh:"æ±½è»Š"},
  {w:"MRT",          zh:"æ·é‹"},
  {w:"plane",        zh:"é£›æ©Ÿ"},
  {w:"dress",        zh:"æ´‹è£"},
  {w:"skirt",        zh:"è£™å­"},
  {w:"T-shirt",      zh:"Tæ¤"},
  {w:"shorts",       zh:"çŸ­è¤²"},
  {w:"sneakers",     zh:"é‹å‹•é‹"},
  {w:"pants",        zh:"è¤²å­/é•·è¤²"},
  {w:"sweater",      zh:"æ¯›è¡£"},
  {w:"jacket",       zh:"å¤¾å…‹/å¤–å¥—"},
  {w:"smartphone",   zh:"æ™ºæ…§å‹æ‰‹æ©Ÿ"},
  {w:"phone",        zh:"é›»è©±/æ‰‹æ©Ÿ"},
  {w:"smart",        zh:"è°æ˜çš„"},
  {w:"umbrella",     zh:"é›¨å‚˜"},
  {w:"water bottle", zh:"æ°´å£º/æ°´ç“¶"},
  {w:"glasses",      zh:"çœ¼é¡"},
  {w:"glass",        zh:"ç»ç’ƒæ¯"}
];

var PARAS = [
  {
    en: "One Saturday morning, Amy put on her favorite dress â€” a bright yellow one â€” and grabbed her water bottle and umbrella. She also wore her sneakers and glasses. \"Today is a big adventure day!\" she said with a big smile.",
    zh: "ä¸€å€‹æ˜ŸæœŸå…­çš„æ—©ä¸Šï¼Œè‰¾å’ªç©¿ä¸Šå¥¹æœ€å–œæ­¡çš„æ´‹è£â€”â€”ä¸€ä»¶äº®é»ƒè‰²çš„â€”â€”ç„¶å¾Œæ‹¿èµ·å¥¹çš„æ°´å£ºå’Œé›¨å‚˜ã€‚å¥¹é‚„ç©¿ä¸Šäº†é‹å‹•é‹ï¼Œæˆ´ä¸Šçœ¼é¡ã€‚ã€Œä»Šå¤©æ˜¯å¤§å†’éšªæ—¥ï¼ã€å¥¹å¸¶è‘—å¤§å¤§çš„å¾®ç¬‘èªªé“ã€‚"
  },
  {
    en: "Amy's mom said, \"We need to take the bus downtown. Later we can ride the MRT to the other side of the city.\" Amy nodded and picked up her smartphone to check the map. She was such a smart girl â€” she already knew which stop to get off at!",
    zh: "è‰¾å’ªçš„åª½åª½èªªï¼šã€Œæˆ‘å€‘éœ€è¦æ­å…¬è»Šå»å¸‚å€ã€‚ä¹‹å¾Œæˆ‘å€‘å¯ä»¥æ­æ·é‹åˆ°åŸå¸‚çš„å¦ä¸€é‚Šã€‚ã€è‰¾å’ªé»é»é ­ï¼Œæ‹¿èµ·å¥¹çš„æ™ºæ…§å‹æ‰‹æ©ŸæŸ¥çœ‹åœ°åœ–ã€‚å¥¹çœŸæ˜¯å€‹è°æ˜çš„å¥³å­©â€”â€”å¥¹å·²ç¶“çŸ¥é“è¦åœ¨å“ªä¸€ç«™ä¸‹è»Šäº†ï¼"
  },
  {
    en: "Their first stop was the bakery near the post office. Mom had to send a package at the post office â€” she said the post was very important for work in her office. While Mom stood in line, Amy enjoyed the sweet smell of fresh bread from the bakery next door.",
    zh: "å¥¹å€‘çš„ç¬¬ä¸€ç«™æ˜¯éƒµå±€æ—é‚Šçš„éºµåŒ…åº—ã€‚åª½åª½éœ€è¦åœ¨éƒµå±€å¯„ä¸€å€‹åŒ…è£¹â€”â€”å¥¹èªªéƒµä»¶å°å¥¹åœ¨è¾¦å…¬å®¤çš„å·¥ä½œéå¸¸é‡è¦ã€‚åª½åª½åœ¨æ’éšŠçš„æ™‚å€™ï¼Œè‰¾å’ªäº«å—è‘—éš”å£éºµåŒ…åº—é£„ä¾†çš„æ–°é®®éºµåŒ…é¦™æ°£ã€‚"
  },
  {
    en: "Next, they walked to the bank so Mom could take out some money. A taxi almost splashed a puddle on Amy as it rushed past! Luckily, she jumped back just in time â€” her sneakers stayed dry. Nearby, a man on a scooter was delivering packages, and a girl on a bike rode by with a wave.",
    zh: "æ¥è‘—ï¼Œå¥¹å€‘èµ°å»éŠ€è¡Œè®“åª½åª½é ˜ä¸€äº›éŒ¢ã€‚ä¸€è¼›è¨ˆç¨‹è»Šå‘¼å˜¯è€Œéï¼Œå·®é»æŠŠæ°´æ¿ºåœ¨è‰¾å’ªèº«ä¸Šï¼å¹¸å¥½å¥¹åŠæ™‚è·³é–‹â€”â€”å¥¹çš„é‹å‹•é‹ä¿æŒä¹¾ç‡¥ã€‚é™„è¿‘ï¼Œä¸€å€‹é¨è‘—æ©Ÿè»Šçš„ç”·äººæ­£åœ¨é€åŒ…è£¹ï¼Œä¸€å€‹é¨è…³è¸è»Šçš„å¥³å­©æ®æ‰‹ç¶“éã€‚"
  },
  {
    en: "After the bank, Amy and Mom ate lunch at a lovely restaurant near the MRT station. Amy ordered noodle soup and drank a glass of orange juice â€” she loved the tall glass it came in! \"This restaurant has such good food,\" said Amy, slurping happily.",
    zh: "åœ¨éŠ€è¡Œä¹‹å¾Œï¼Œè‰¾å’ªå’Œåª½åª½åœ¨æ·é‹ç«™é™„è¿‘ä¸€å®¶å¯æ„›çš„é¤å»³åƒåˆé¤ã€‚è‰¾å’ªé»äº†æ¹¯éºµï¼Œä¸¦å–äº†ä¸€æ¯æŸ³æ©™æ±â€”â€”å¥¹å¥½å–œæ­¡é‚£å€‹é«˜é«˜çš„ç»ç’ƒæ¯ï¼ã€Œé€™å®¶é¤å»³çš„é£Ÿç‰©çœŸçš„å¥½å¥½åƒï¼Œã€è‰¾å’ªé–‹å¿ƒåœ°å¸è‘—éºµèªªã€‚"
  },
  {
    en: "In the afternoon, they took the train to a shopping district. Amy wanted to buy new clothes! She found a cute pink skirt, a cozy sweater, and a cool jacket. Her little brother back home had asked for a new T-shirt and some shorts, so she picked those up too. Mom also bought pants for Dad.",
    zh: "ä¸‹åˆï¼Œå¥¹å€‘æ­ç«è»Šå»è³¼ç‰©å€ã€‚è‰¾å’ªæƒ³è²·æ–°è¡£æœï¼å¥¹æ‰¾åˆ°äº†ä¸€æ¢å¯æ„›çš„ç²‰ç´…è‰²è£™å­ã€ä¸€ä»¶èˆ’é©çš„æ¯›è¡£ï¼Œå’Œä¸€ä»¶å¸¥æ°£çš„å¤¾å…‹ã€‚åœ¨å®¶çš„å¼Ÿå¼Ÿè¦å¥¹å¹«è²·ä¸€ä»¶æ–°çš„Tæ¤å’Œä¸€æ¢çŸ­è¤²ï¼Œæ‰€ä»¥å¥¹ä¹Ÿä¸€èµ·è²·äº†ã€‚åª½åª½ä¹Ÿå¹«çˆ¸çˆ¸è²·äº†é•·è¤²ã€‚"
  },
  {
    en: "After shopping, they passed a wonderful bookstore. Amy's eyes lit up! She ran in and found a book about planes and trains and how people travel the world. \"I want to ride every kind of transport someday â€” plane, train, bus, and even a car through the mountains!\" she said to the phone camera as she took a selfie with the book.",
    zh: "è³¼ç‰©ä¹‹å¾Œï¼Œå¥¹å€‘ç¶“éäº†ä¸€å®¶ç¾å¦™çš„æ›¸åº—ã€‚è‰¾å’ªçš„çœ¼ç›äº®äº†èµ·ä¾†ï¼å¥¹è·‘é€²å»ï¼Œæ‰¾åˆ°äº†ä¸€æœ¬é—œæ–¼é£›æ©Ÿå’Œç«è»Šï¼Œä»¥åŠäººå€‘å¦‚ä½•ç’°éŠä¸–ç•Œçš„æ›¸ã€‚ã€Œæˆ‘æœ‰ä¸€å¤©æƒ³è¦é«”é©—å„ç¨®äº¤é€šå·¥å…·â€”â€”é£›æ©Ÿã€ç«è»Šã€å…¬è»Šï¼Œç”šè‡³æ˜¯é–‹è‘—æ±½è»Šç©¿è¶Šå±±è„ˆï¼ã€å¥¹å°è‘—æ‰‹æ©Ÿé¡é ­èªªï¼ŒåŒæ™‚æ‹¿è‘—æ›¸è‡ªæ‹ã€‚"
  },
  {
    en: "On the way home, it started to rain. Amy opened her umbrella proudly â€” she was glad she had brought it! Mom called a taxi on her phone because the bags were too heavy to carry on the bus. They rode home comfortably as the rain tapped on the car windows.",
    zh: "å›å®¶çš„è·¯ä¸Šï¼Œé–‹å§‹ä¸‹é›¨äº†ã€‚è‰¾å’ªé©•å‚²åœ°æ’é–‹å¥¹çš„é›¨å‚˜â€”â€”å¥¹å¥½æ…¶å¹¸å¸¶ä¾†äº†ï¼åª½åª½ç”¨æ‰‹æ©Ÿå«äº†ä¸€è¼›è¨ˆç¨‹è»Šï¼Œå› ç‚ºè¢‹å­å¤ªé‡äº†ï¼Œä¸æ–¹ä¾¿æ­å…¬è»Šã€‚é›¨æ°´è¼•è¼•æ•²æ‰“è‘—æ±½è»Šçš„çª—æˆ¶ï¼Œå¥¹å€‘èˆ’èˆ’æœæœåœ°æ­è»Šå›å®¶ã€‚"
  },
  {
    en: "That night, Amy found out Mom had a fun surprise â€” they would fly on a plane next month to visit Grandma! Amy hugged her new book tightly and whispered, \"I can't wait to visit the hospital where Grandma works as a nurse, and explore more of the city!\" It had truly been an amazing day.",
    zh: "é‚£å¤©æ™šä¸Šï¼Œè‰¾å’ªç™¼ç¾åª½åª½æœ‰å€‹æœ‰è¶£çš„é©šå–œâ€”â€”ä¸‹å€‹æœˆå¥¹å€‘è¦æ­é£›æ©Ÿå»æ¢æœ›å¥¶å¥¶ï¼è‰¾å’ªç·Šç·ŠæŠ±è‘—å¥¹çš„æ–°æ›¸ï¼Œè¼•è²èªªï¼šã€Œæˆ‘ç­‰ä¸åŠè¦å»æ¢æœ›åœ¨é†«é™¢ç•¶è­·å£«çš„å¥¶å¥¶ï¼Œé‚„æœ‰æ¢ç´¢æ›´å¤šé€™å€‹åŸå¸‚ï¼ã€é€™çœŸçš„æ˜¯ç¾å¥½çš„ä¸€å¤©ã€‚"
  }
];

var QUESTIONS = [
  {
    q: "What was Amy wearing on her adventure day?",
    opts: ["A. A blue jacket and pants","B. A yellow dress, sneakers, and glasses","C. A skirt and a sweater","D. A T-shirt and shorts"],
    ans: "B"
  },
  {
    q: "How did Amy and her mom travel downtown first?",
    opts: ["A. By taxi","B. By plane","C. By bus","D. By scooter"],
    ans: "C"
  },
  {
    q: "Why did Amy's mom go to the post office?",
    opts: ["A. To buy stamps","B. To send a package","C. To pick up mail","D. To pay her phone bill"],
    ans: "B"
  },
  {
    q: "What almost happened to Amy near the bank?",
    opts: ["A. She dropped her water bottle","B. She lost her glasses","C. A taxi almost splashed a puddle on her","D. A bike rider knocked her over"],
    ans: "C"
  },
  {
    q: "What did Amy eat for lunch at the restaurant?",
    opts: ["A. Pizza and milk","B. Noodle soup and orange juice","C. Bread and water","D. Rice and tea"],
    ans: "B"
  },
  {
    q: "Which clothing items did Amy's brother ask her to buy?",
    opts: ["A. A dress and sneakers","B. A jacket and sweater","C. A T-shirt and shorts","D. Pants and a skirt"],
    ans: "C"
  },
  {
    q: "What kind of book did Amy find in the bookstore?",
    opts: ["A. A book about cooking","B. A book about planes, trains, and world travel","C. A book about animals","D. A book about smartphones"],
    ans: "B"
  },
  {
    q: "Why did Amy and her mom take a taxi home instead of the bus?",
    opts: ["A. The bus was too slow","B. It was too hot outside","C. The bags were too heavy to carry on the bus","D. The bus station was closed"],
    ans: "C"
  },
  {
    q: "Where does Amy's grandma work?",
    opts: ["A. At a restaurant","B. At a bookstore","C. At a bank","D. At a hospital"],
    ans: "D"
  },
  {
    q: "What is the best title for this story?",
    opts: ["A. Amy Stays Home All Day","B. Amy's Big City Adventure","C. Amy Goes to School","D. Amy Rides a Plane"],
    ans: "B"
  }
];

/* ============================================================
   STATE
   ============================================================ */
var speechRate = 0.9;
var userAnswers = {};
var quizSubmitted = false;
var activeReadBtn = null;   // the read-btn currently playing

/* ============================================================
   SPEECH
   ============================================================ */
function stopAll() {
  window.speechSynthesis.cancel();
  document.querySelectorAll(".word-on").forEach(function(el){ el.classList.remove("word-on"); });
  document.querySelectorAll(".sent-on").forEach(function(el){ el.classList.remove("sent-on"); });
  document.querySelectorAll(".q-hl").forEach(function(el){ el.classList.remove("q-hl"); });
  document.querySelectorAll(".qsb-on").forEach(function(el){ el.classList.remove("qsb-on"); });
  document.querySelectorAll(".chip-on").forEach(function(el){ el.classList.remove("chip-on"); });
  if (activeReadBtn) {
    activeReadBtn.textContent = "ğŸ”Š æœ—è®€æ•…äº‹";
    activeReadBtn.className = "btn btn-read";
    activeReadBtn = null;
  }
}

function speakText(text, onEnd) {
  if (!window.speechSynthesis) { if(onEnd) onEnd(); return; }
  var u = new SpeechSynthesisUtterance(text);
  u.lang = "en-US";
  u.rate = speechRate;
  u.onend = onEnd || null;
  u.onerror = onEnd || null;
  window.speechSynthesis.speak(u);
  return u;
}

function speakParagraph(text, sentenceSpans, onEnd) {
  if (!window.speechSynthesis) { if(onEnd) onEnd(); return; }
  var u = new SpeechSynthesisUtterance(text);
  u.lang = "en-US";
  u.rate = speechRate;

  // Build cumulative char offsets for each span
  var offsets = [];
  var cum = 0;
  for (var i = 0; i < sentenceSpans.length; i++) {
    offsets.push(cum);
    cum += sentenceSpans[i].textContent.length + 1;
  }

  var lastIdx = -1;
  u.onboundary = function(e) {
    var ci 
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alex's Magical Adventure</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.8;
            color: #333;
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            background-color: #f9f9f9;
        }
        h1, h2 {
            color: #0056b3;
            border-bottom: 2px solid #0056b3;
            padding-bottom: 10px;
        }
        .story-paragraph {
            background-color: #fff;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .story-paragraph .english {
            cursor: pointer;
            font-size: 1.1em;
        }
        .story-paragraph .english:hover {
            background-color: #e7f3ff;
        }
        .story-paragraph .chinese {
            display: none;
            color: #666;
            margin-top: 10px;
            border-left: 3px solid #007bff;
            padding-left: 10px;
            font-style: italic;
        }
        .vocab {
            font-weight: bold;
            color: #d63384;
        }
        .quiz-section {
            margin-top: 40px;
            background-color: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .question {
            margin-bottom: 20px;
        }
        .question p {
            display: inline;
        }
        .speaker-btn {
            cursor: pointer;
            font-size: 1.5em;
            margin-left: 10px;
            vertical-align: middle;
        }
        .highlight {
            background-color: yellow;
        }
        #quiz-results {
            margin-top: 20px;
            font-weight: bold;
        }
        button {
            background-color: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1em;
            margin-top: 10px;
        }
        button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>

    <h1>Alex's Magical Adventure</h1>
    <p>Click on each English paragraph to show the Chinese translation.
    <br>é»æ“Šä¸‹æ–¹çš„è‹±æ–‡æ®µè½å¯ä»¥é¡¯ç¤ºä¸­æ–‡ç¿»è­¯ã€‚</p>

    <div id="story">
        <div class="story-paragraph">
            <p class="english">
                One sunny morning, Alex put on a new <span class="vocab">T-shirt</span> and <span class="vocab">shorts</span>. He also wore his favorite <span class="vocab">sneakers</span>. Alex wanted to go to the <span class="vocab">bookstore</span> to buy a new book. He picked up his <span class="vocab">water bottle</span> but forgot his <span class="vocab">umbrella</span>.
            </p>
            <p class="chinese">
                ä¸€å€‹é™½å…‰æ˜åªšçš„æ—©æ™¨ï¼ŒAlex ç©¿ä¸Šäº†ä¸€ä»¶æ–°çš„ <span class="vocab">Tæ¤</span> å’Œ <span class="vocab">çŸ­è¤²</span>ã€‚ä»–ä¹Ÿç©¿ä¸Šäº†ä»–æœ€æ„›çš„ <span class="vocab">é‹å‹•é‹</span>ã€‚Alex æƒ³å» <span class="vocab">æ›¸åº—</span> è²·ä¸€æœ¬æ–°æ›¸ã€‚ä»–æ‹¿èµ·äº†ä»–çš„ <span class="vocab">æ°´å£º</span>ï¼Œå»å¿˜äº†å¸¶ <span class="vocab">é›¨å‚˜</span>ã€‚
            </p>
        </div>
        <div class="story-paragraph">
            <p class="english">
                First, he rode his <span class="vocab">bike</span> to the <span class="vocab">post office</span> to mail a letter. The <span class="vocab">post</span> <span class="vocab">office</span> was next to a big <span class="vocab">bank</span>. After that, he was hungry, so he went to a <span class="vocab">bakery</span> to buy some bread.
            </p>
            <p class="chinese">
                é¦–å…ˆï¼Œä»–é¨è‘—ä»–çš„ <span class="vocab">è…³è¸è»Š</span> åˆ° <span class="vocab">éƒµå±€</span> å¯„ä¿¡ã€‚é‚£é–“ <span class="vocab">éƒµå±€</span> å°±åœ¨ä¸€é–“å¤§ <span class="vocab">éŠ€è¡Œ</span> çš„æ—é‚Šã€‚ä¹‹å¾Œï¼Œä»–é¤“äº†ï¼Œæ‰€ä»¥ä»–å»äº†ä¸€å®¶ <span class="vocab">éºµåŒ…åº—</span> è²·äº†äº›éºµåŒ…ã€‚
            </p>
        </div>
        <div class="story-paragraph">
            <p class="english">
                To get to the bookstore, he had to take the <span class="vocab">MRT</span>. He saw many people on the <span class="vocab">train</span>. A woman was wearing a beautiful <span class="vocab">dress</span> and a man was wearing a warm <span class="vocab">sweater</span> and a <span class="vocab">jacket</span> because he felt cold. Alex used his <span class="vocab">smartphone</span> to call his mom. She told him not to be home too late.
            </p>
            <p class="chinese">
                ç‚ºäº†å»æ›¸åº—ï¼Œä»–å¿…é ˆæ­ä¹˜ <span class="vocab">æ·é‹</span>ã€‚ä»–åœ¨ <span class="vocab">ç«è»Š</span>ï¼ˆé€™è£¡æŒ‡æ·é‹åˆ—è»Šï¼‰ä¸Šçœ‹åˆ°å¾ˆå¤šäººã€‚ä¸€ä½å¥³å£«ç©¿è‘—æ¼‚äº®çš„ <span class="vocab">æ´‹è£</span>ï¼Œè€Œä¸€ä½ç”·å£«å› ç‚ºè¦ºå¾—å†·ï¼Œç©¿è‘—ä¿æš–çš„ <span class="vocab">æ¯›è¡£</span> å’Œ <span class="vocab">å¤¾å…‹</span>ã€‚Alex ç”¨ä»–çš„ <span class="vocab">æ™ºæ…§å‹æ‰‹æ©Ÿ</span> æ‰“é›»è©±çµ¦åª½åª½ã€‚å¥¹å‘Šè¨´ä»–ä¸è¦å¤ªæ™šå›å®¶ã€‚
            </p>
        </div>
        <div class="story-paragraph">
            <p class="english">
                Suddenly, a man on the <span class="vocab">MRT</span> felt sick. The train stopped and an ambulance took him to the <span class="vocab">hospital</span>. Alex felt a little worried. He saw the man drop his <span class="vocab">glasses</span>, which were made of <span class="vocab">glass</span>.
            </p>
            <p class="chinese">
                çªç„¶ï¼Œæ·é‹ä¸Šæœ‰å€‹ç”·äººæ„Ÿè¦ºä¸èˆ’æœã€‚åˆ—è»Šåœäº†ä¸‹ä¾†ï¼Œä¸€è¼›æ•‘è­·è»ŠæŠŠä»–é€å»äº† <span class="vocab">é†«é™¢</span>ã€‚Alex æ„Ÿåˆ°æœ‰é»æ“”å¿ƒã€‚ä»–çœ‹åˆ°é‚£å€‹ç”·äººæ‰äº†ä»–çš„ <span class="vocab">çœ¼é¡</span>ï¼Œé‚£æ˜¯ç”± <span class="vocab">ç»ç’ƒ</span> è£½æˆçš„ã€‚
            </p>
        </div>
        <div class="story-paragraph">
            <p class="english">
                After the delay, Alex finally got to the bookstore. He bought his book and felt happy. For dinner, he went to a nice <span class="vocab">restaurant</span> with his family. They didn't drive their <span class="vocab">car</span>; they took a <span class="vocab">taxi</span> instead. On the way, they saw a <span class="vocab">scooter</span> and a big red <span class="vocab">bus</span>. Alex thought about his future trip on a <span class="vocab">plane</span> to see the world. He took off his long <span class="vocab">pants</span> and went to bed, dreaming of his next adventure.
            </p>
            <p class="chinese">
                ç¶“éä¸€ç•ªè€½æ“±ï¼ŒAlex çµ‚æ–¼åˆ°äº†æ›¸åº—ã€‚ä»–è²·åˆ°äº†ä»–çš„æ›¸ï¼Œæ„Ÿåˆ°éå¸¸é–‹å¿ƒã€‚æ™šé¤æ™‚ï¼Œä»–å’Œå®¶äººå»äº†ä¸€å®¶å¾ˆæ£’çš„ <span class="vocab">é¤å»³</span>ã€‚ä»–å€‘æ²’æœ‰é–‹è‡ªå·±çš„ <span class="vocab">æ±½è»Š</span>ï¼Œè€Œæ˜¯æ­äº† <span class="vocab">è¨ˆç¨‹è»Š</span>ã€‚åœ¨è·¯ä¸Šï¼Œä»–å€‘çœ‹åˆ°ä¸€è¼› <span class="vocab">æ©Ÿè»Š</span> å’Œä¸€è¼›å¤§ç´…è‰²çš„ <span class="vocab">å…¬è»Š</span>ã€‚Alex æƒ³è‘—ä»–æœªä¾†è¦æ­ <span class="vocab">é£›æ©Ÿ</span> å»ç’°éŠä¸–ç•Œçš„æ—…è¡Œã€‚ä»–è„«ä¸‹ <span class="vocab">é•·è¤²</span> ä¸ŠåºŠç¡è¦ºï¼Œå¤¢è‘—ä»–çš„ä¸‹ä¸€æ¬¡å†’éšªã€‚
            </p>
        </div>
    </div>

    <div class="quiz-section">
        <h2>Reading Quiz</h2>
        <form id="quiz-form">
            <div class="question">
                <p id="q1-text">1. Where did Alex go to buy a book?</p>
                <span class="speaker-btn" onclick="speak('q1-text')">ğŸ”Š</span><br>
                <input type="radio" name="q1" value="bakery"> A) Bakery<br>
                <input type="radio" name="q1" value="bookstore"> B) Bookstore<br>
                <input type="radio" name="q1" value="hospital"> C) Hospital<br>
            </div>
            <hr>
            <div class="question">
                <p id="q2-text">2. What did Alex wear in the morning?</p>
                <span class="speaker-btn" onclick="speak('q2-text')">ğŸ”Š</span><br>
                <input type="radio" name="q2" value="dress"> A) A dress and a skirt<br>
                <input type="radio" name="q2" value="jacket"> B) A jacket and a sweater<br>
                <input type="radio" name="q2" value="t-shirt"> C) A T-shirt and shorts<br>
            </div>
            <hr>
            <div class="question">
                <p id="q3-text">3. How did Alex get to the bookstore?</p>
                <span class="speaker-btn" onclick="speak('q3-text')">ğŸ”Š</span><br>
                <input type="radio" name="q3" value="mrt"> A) By MRT<br>
                <input type="radio" name="q3" value="car"> B) By car<br>
                <input type="radio" name="q3" value="plane"> C) By plane<br>
            </div>
            <button type="button" onclick="checkAnswers()">Check Answers</button>
        </form>
        <div id="quiz-results"></div>
    </div>

    <script>
        // Toggle Chinese translation
        document.querySelectorAll('.story-paragraph .english').forEach(p => {
            p.addEventListener('click', () => {
                const chinese_p = p.nextElementSibling;
                if (chinese_p.style.display === 'none' || chinese_p.style.display === '') {
                    chinese_p.style.display = 'block';
                } else {
                    chinese_p.style.display = 'none';
                }
            });
        });

        // Text-to-speech with highlighting
        const synth = window.speechSynthesis;
        let utterance = new SpeechSynthesisUtterance();
        let currentElem = null;
        let originalText = '';
        let words = [];

        utterance.onboundary = (event) => {
            if (event.name === 'word' && currentElem) {
                const text = currentElem.textContent;
                // Remove previous highlight
                currentElem.innerHTML = originalText;

                // Find the current word
                let wordIndex = -1;
                let charCount = 0;
                for(let i=0; i<words.length; i++) {
                    if (event.charIndex >= charCount && event.charIndex < charCount + words[i].length) {
                        wordIndex = i;
                        break;
                    }
                    charCount += words[i].length + 1; // +1 for space
                }
                
                if (wordIndex !== -1) {
                    let highlightedText = words.map((word, index) => {
                        if (index === wordIndex) {
                            return `<span class="highlight">${word}</span>`;
                        }
                        return word;
                    }).join(' ');
                    currentElem.innerHTML = highlightedText;
                }
            }
        };

        utterance.onend = () => {
            if (currentElem) {
                currentElem.innerHTML = originalText; // Reset text after speaking
            }
            currentElem = null;
        };

        function speak(elementId) {
            if (synth.speaking) {
                synth.cancel(); // Stop any previous speech
                if (currentElem) {
                    currentElem.innerHTML = originalText;
                }
            }
            currentElem = document.getElementById(elementId);
            originalText = currentElem.textContent;
            words = originalText.split(/\s+/);
            
            utterance.text = originalText;
            utterance.lang = 'en-US';
            utterance.rate = 0.9;
            synth.speak(utterance);
        }

        // Quiz answer checking
        function checkAnswers() {
            const answers = {
                q1: 'bookstore',
                q2: 't-shirt',
                q3: 'mrt'
            };
            let score = 0;
            const totalQuestions = Object.keys(answers).length;
            const resultsDiv = document.getElementById('quiz-results');
            
            for (const q in answers) {
                const selected = document.querySelector(`input[name="${q}"]:checked`);
                if (selected && selected.value === answers[q]) {
                    score++;
                }
            }

            resultsDiv.innerHTML = `You got ${score} out of ${totalQuestions} correct!`;
            if (score === totalQuestions) {
                resultsDiv.innerHTML += " ğŸ‰ Excellent work!";
                resultsDiv.style.color = 'green';
            } else {
                resultsDiv.innerHTML += " Keep trying!";
                resultsDiv.style.color = 'red';
            }
        }
    </script>

</body>
</html>
